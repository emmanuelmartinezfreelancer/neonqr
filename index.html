<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="canonical" href="https://getbootstrap.com/docs/3.4/examples/starter-template/">

    <title>Neon Caron</title>

    <!-- import the latest version of hydra synth-->
    <script src="https://unpkg.com/hydra-synth"></script>


    
    <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getDatabase, set, get, ref ,push, child, onValue} from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";

    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

     // Your web app's Firebase configuration
    const firebaseConfig = {

        

    };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  
  // Get a reference to the database service
  const database = getDatabase(app);

  const dbRef = ref(database, 'score');

/*   get(dbRef, (snapshot)=>{

    console.log("Snapshot", snapshot)

  }) */


    /* const scoresRef = collection(db, "score"); */

    console.log("Firebase", app);

    console.log("Db", database)

    console.log("dbRef", dbRef)

    //console.log("Score reference", scoresRef);
    </script>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->


    <style>
        .starter-template {
            padding: 40px 15px;
            text-align: center;
                }

                .slidecontainer {
  width: 100%;
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  height: 15px;
  border-radius: 5px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: black;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  border-radius: 50%;
  background: black;
  cursor: pointer;
}


    </style>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div id="welcomeScreen" style="background:white;
    position:absolute;
    top:0px;
    right:0px;
    bottom:0px;
    left:0px;">

    <div style="  margin: 0;
    position: absolute;
    top: 50%;
    left: 50%;
    -ms-transform: translate(-50%, -50%);
    transform: translate(-50%, -50%);"><button id="welcomeButton" class="btn btn-dark">Hello</button></div>
    
    </div>

    <div id="home" style="visibility:hidden">

    <nav style="background-color: white;" class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button style="color:black"type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#"><img width="50px"src="img/neonLogo.png" alt="logo-neon"></a>
        </div>

        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="index.html">Home</a></li>
            <li><a href="ficha/index.html">Ficha TÃ©cnica</a></li>
            <li><a href="https://neoncaron.myshopify.com/">Shopify</a></li>
            <li><a href="https://www.instagram.com/neon_caron/">Instagram</a></li>

          </ul>
        </div>

      </div>
    </nav>

    <div class="container" style="width: 100%; height: 100vh;padding: 0; margin: 0">
        
        <canvas id="canvasHydra" style="height: 100%; width: 100%;"></canvas>


    </div>


    <nav style="margin-bottom: 0; background-color: white;" class="navbar navbar-inverse navbar-fixed-bottom">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbarBottom" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="glyphicon glyphicon-chevron-up"></span>
          </button>
        </div>

        <div id="navbarBottom" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <button type="button" class="btn btn-block btn-light" data-toggle="modal" data-target="#modalBeginner">
              Beginner
            </button>
            <button type="button" class="btn btn-block btn-light" data-toggle="modal" data-target="#modalExpert">
              Expert
            </button>
          </ul>
        </div>

      </div>
    </nav>

  </div>

  <!-- MODALES -->
  <!-- Beginner -->
<div class="modal fade" id="modalBeginner" tabindex="-1" role="dialog" aria-labelledby="modalBeginnerLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalBeginnerLabel">Beginner mode</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <div class="slidecontainer">
          <input type="range" min="1" max="100" value="50" class="slider" id="slider1">
          <p>Value: <span id="outputSlide1"></span></p>
        </div>

        <div class="slidecontainer">
          <input type="range" min="1" max="100" value="50" class="slider" id="slider2">
          <p>Value: <span id="outputSlide2"></span></p>
        </div>


        <div class="slidecontainer">
          <input type="range" min="1" max="100" value="50" class="slider" id="slider3">
          <p>Value: <span id="outputSlide3"></span></p>
        </div>

        <div class="slidecontainer">
          <input type="range" min="1" max="100" value="50" class="slider" id="slider4">
          <p>Value: <span id="outputSlide4"></span></p>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

  <!-- Expert -->
  <div class="modal fade" id="modalExpert" tabindex="-1" role="dialog" aria-labelledby="modalBeginnerLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalBeginnerLabel">Expert mode</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          src(s0)
          .layer(src(o0).mask(shape(4, 0.4, 0)))
          .scrollX([0.005, -0.005])
          .scrollY(0.005)
          .out(o1)      
          render(o1)
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>

    <script>

      //Views
      let welcomeScreen = document.getElementById("welcomeScreen");
      let welcomeButton = document.getElementById("welcomeButton");
      let home = document.getElementById("home");

      let scale = window.devicePixelRatio;
      let size = 1000;
      let c = document.getElementById("canvasHydra");
          c.width = Math.floor(size * scale);
          c.height = Math.floor(size * scale);

        // create a new hydra-synth instance
      let hydra = new Hydra({
          canvas: document.getElementById("canvasHydra"),
          detectAudio: false
        })

        
        function mainHydra() {
          src(s0).rotate(0, 0.1).color(-1, 1).out()
        }

      s0.initVideo('video/mickeyMuros.mp4');

      welcomeButton.addEventListener("click", ()=>{

            welcomeScreen.setAttribute("style", "visibility: hidden");
            home.setAttribute("style", "visibility: visible");


            mainHydra();


/*             v1.play();
            v1.loop = true
            v1.crossOrigin = "anonymous";
            v1.volume = 0 */

      })


      var slider1 = document.getElementById("slider1");
      var output1 = document.getElementById("outputSlide1");

      var slider2 = document.getElementById("slider2");
      var output2 = document.getElementById("outputSlide2");

      var slider3 = document.getElementById("slider3");
      var output3 = document.getElementById("outputSlide3");

      var slider4 = document.getElementById("slider4");
      var output4 = document.getElementById("outputSlide4");

      output1.innerHTML = slider1.value;
      output2.innerHTML = slider2.value;
      output3.innerHTML = slider3.value;
      output4.innerHTML = slider4.value;

      slider1.oninput = function() {
        output1.innerHTML = this.value;
      }

      slider2.oninput = function() {
        output2.innerHTML = this.value;
      }

      slider3.oninput = function() {
        output3.innerHTML = this.value;
      }

      slider4.oninput = function() {
        output4.innerHTML = this.value;
      }
          
        
      </script>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="js/bootstrap.min.js"></script>
<!--     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
 -->
  </body>
</html>
